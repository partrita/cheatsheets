#import "./templates/conf.typ": *


#show: template.with(
  title: "Plotnine 치트시트",
  header: [#datetime.today().display()],
  footer: "generated by Gemini CLI",
)

// 주요 내용 시작
= 기본 구조

```python
from plotnine import ggplot, aes, geom_point
from plotnine.data import mtcars

# plotnine 기본 구조: 데이터 + 매핑 + 기하 객체
(ggplot(mtcars, aes(x='hp', y='mpg')) +
 geom_point())
```

= 기하 객체 (Geoms)

== 산점도 (Scatter Plot)

```python
from plotnine import ggplot, aes, geom_point
from plotnine.data import mtcars

(ggplot(mtcars, aes(x='hp', y='mpg', color='factor(cyl)', size='wt')) +
 geom_point())
```

== 라인 플롯 (Line Plot)

```python
from plotnine import ggplot, aes, geom_line, geom_point
import pandas as pd
import numpy as np

df = pd.DataFrame({
    'x': range(1, 11),
    'y': np.cumsum(np.random.randn(10))
})

(ggplot(df, aes(x='x', y='y')) +
 geom_line() +
 geom_point())
```

== 막대 그래프 (Bar Plot)

```python
from plotnine import ggplot, aes, geom_bar
from plotnine.data import mtcars

(ggplot(mtcars, aes(x='factor(cyl)')) +
 geom_bar(fill="steelblue"))
```

== 히스토그램 (Histogram)

```python
from plotnine import ggplot, aes, geom_histogram
from plotnine.data import mtcars

(ggplot(mtcars, aes(x='mpg')) +
 geom_histogram(binwidth=3, fill="darkgreen", color="black"))
```

== 박스 플롯 (Box Plot)

```python
from plotnine import ggplot, aes, geom_boxplot
from plotnine.data import mtcars

(ggplot(mtcars, aes(x='factor(cyl)', y='mpg')) +
 geom_boxplot(fill="lightblue"))
```

= 축 및 레이블

```python
from plotnine import ggplot, aes, geom_point, labs, xlim, ylim
from plotnine.data import mtcars

(ggplot(mtcars, aes(x='hp', y='mpg')) +
 geom_point() +
 labs(
    title="마력과 연비의 관계",
    x="마력 (hp)",
    y="연비 (mpg)",
    caption="데이터 출처: mtcars"
 ) +
 xlim(50, 350) +
 ylim(10, 35))
```

= 테마 및 색상

```python
from plotnine import ggplot, aes, geom_point, theme_minimal
from plotnine.data import mtcars

(ggplot(mtcars, aes(x='hp', y='mpg', color='factor(cyl)')) +
 geom_point() +
 theme_minimal())
# scale_color_brewer는 plotnine에 직접적으로 없으므로, 다른 방법으로 색상 조정
```

= 패싯 (Faceting)

```python
from plotnine import ggplot, aes, geom_point, facet_wrap
from plotnine.data import mtcars

(ggplot(mtcars, aes(x='hp', y='mpg')) +
 geom_point() +
 facet_wrap('~ factor(cyl)'))
```

= 플롯 저장

```python
from plotnine import ggplot, aes, geom_point
from plotnine.data import mtcars

p = (ggplot(mtcars, aes(x='hp', y='mpg')) +
     geom_point())

p.save("my_plotnine.png", width=6, height=4, dpi=300)
print("my_plotnine.png 저장 완료")
```
